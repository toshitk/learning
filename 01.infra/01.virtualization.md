# 仮想化
## 仮想化とは
- 1台の物理サーバ上に複数のOSを動作させる技術
  - 従来はOSは1台のサーバに1つだったが、仮想化によって1台のサーバの物理リソースを複数OSで共有することができるように
- サーバ
  - CPU、メモリ、ストレージ等のハードウェアリソースが搭載されている
  - excel等のアプリケーションは上記のリソースをOSを介して使用する

## 仮想化方式
大きく3つ方式がある

### ホストOS型
- OS上に仮想化ソフトウェアをインストールして、その上で仮想マシンを稼働させる
  - ホストOS：仮想化ソフトウェアをインストールするOS
  - ゲストOS：仮想マシン上のOS

|メリット|デメリット|
|---|---|
|ソフトウェアをインストールするだけなので、手軽に使用できる方式|ゲストOSのHWリソースへのアクセス時に、ホストOSを介するためオーバーヘッドがある|

#### ホストOS型イメージ
![](./image/01-1.hostOS.png)


### ハイパーバイザー型
- 物理サーバの上にハイパーバイザーと呼ばれる仮想化ソフトウェアを直接インストールする
  - 企業等が仮想化を採用する際に最も一般的に利用される

|メリット|デメリット|
|---|---|
|ホストOSを介さずにHWリソースを利用できるためオーバーヘッドが小さい|専用の物理サーバを用意する必要がある|

#### ハイパーバイザー型イメージ
![](./image/01-2.hypervisor.png)


### コンテナ型
- 上記2つとは仕組みが異なり、仮想マシンではなくコンテナと呼ばれる仮想環境を提供する
- ホストOSにコンテナエンジンと呼ばれる仮想化ソフトウェアをインストールする
- コンテナはホストOSのカーネルを共用して、ゲストOSは持たない
  - コンテナは仮想的なサーバというよりも隔離されたアプリケーションの実行環境

|メリット|デメリット|
|---|---|
|オーバーヘッドが小さく軽量|大規模な展開や管理するためのツール/ノウハウの不足、提供ベンダーが少なめ|

#### コンテナ型イメージ
![](./image/01-3.container.png)


