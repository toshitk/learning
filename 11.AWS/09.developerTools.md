# 9. 開発者ツール
## 9.1. アプリケーション開発の支援サービス
### Codeシリーズ

|サービス|概要|
|---|---|
|CodeCommit|ソースコードを管理するGitリポジトリサービス|
|CodeBuild|ソースコードのビルド/テスティングサービス|
|CodeDeploy|ビルドされたモジュールのデプロイサービス|
|CodePipeline|上記3つのサービスを束ねて一連の開発プロセスを自動化するサービス|
|CodeStar|上記4つのサービスを利用したCI/CD環境を自動構築するサービス|

## 9.2. CodeCommit
### 特徴
#### IAMユーザーを用いた権限管理
- IAMユーザーを用いて権限管理を行うという特徴がある
- HTTPS方式でアクセスする場合は、ローカル環境にあるIAMのクレデンシャル情報を用いてGitに接続する
- SSHで接続する場合は秘密鍵と公開鍵のペアを作成し、公開鍵をIAMユーザーに紐付けることでGitリポジトリに接続する

#### 他のAWSサービスとの連携
- Gitリポジトリで発生した何らかのイベントをトリガーにSNSトピックを呼び出すことができる
  - SNS経由で他のAWSサービスをキックすることも可能
- CodePipelineや他のCodeサービスと連携することでCI/CD環境を簡単に構築できる
  - CodeCommitに新しいソースコードをプッシュし、ビルド、UTを実行し、開発環境へデプロイする等が自動で行える

## 9.3. CodeBuild
- Jenkins等のソフトウェアを導入する場合は環境の管理やインフラリソースが必要となるが、CodeBuildでは不要

### 特徴
#### ビルド環境を簡単に構築可能
- マネジメントコンソールから数ステップでビルド環境が構築可能
- CodeBuild上UTも実施可能
- ビルド対象のコード取得先として、CodeCommitだけでなくGitHubやBitbucket、S3も指定可能

#### 料金
- ビルドにかかった時間単位の従量課金制(環境のスペックごとに料金体系は異なる)

## 9.4. CodeDeploy
### 特徴
#### デプロイ先を選択可能
- EC2やLambda、オンプレのサーバに対してデプロイ可能
  - EC2やオンプレを指定する場合は対象サーバにCodeDeployのエージェントをインストールする必要がある
- どのモジュールをどこに配置するかはappspec.ymlで定義する
  - デプロイの前後に何かしらの処理を行う場合もappspec.ymlに記載する

#### デプロイ方式を選択可能

|方式|概要|
|---|---|
|AllAtOnce|関連するサーバ全てに同時にデプロイを行う<br>所要時間が最も短くなる一方、システム全体にダウンタイムが発生する|
|HalfAtATime|関連するサーバ群の半分にデプロイを行う<br>デプロイ前にデプロイ対象のサーバをLBから切り離すため、デプロイ中は縮退運用となる|
|OneAtATime|関連するサーバを1つずつLBから切り離しデプロイを行う<br>他のサーバへの不可は小さくなる一方、所要時間は長くなる|

## 9.5. CodePipeline
### 特徴
#### 開発プロセスの自動化
- CodePipelineによって、ソースコードのPush->ビルド->デプロイという自動化されたパイプラインを作成することができる
- 上記の一部おプロセスをAWS以外のサービスに置き換えることも可能
  - ソースコードの取得先をGitHubに変更することや、ビルドやテストをJenkinsで行うこと等

#### 承認プロセスの定義
- リリースの承認プロセスをパイプラインの途中に挟むことも可能
  - ソースコードの変更->ビルド->開発環境へのリリース->UAT担当者の承認(メールで依頼)->UAT環境へリリース
